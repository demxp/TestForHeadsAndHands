# TestForHeadsAndHands

1. Создать в папке domains OpenServer'а папку для отдельного нового домена, например laraweather
2. Скачать отсюда проект в виде архива ZIP, а распаковать его в эту новую папку, распакуется папка "TestForHeadsAndHands-master" с приложением. Все содержимое перенести на уровень выше. Таким образом, все приложение будет располагаться в папке laraweather.
3. В OpenServer, на вкладке настроек Домены - выбрать "Ручное управление" и добавить новый домен, например, laraweather, ссылающийся на папку \laraweather\public
4. OpenServer необходимо настроить на использование Apache 2.4, PHP 7.2 и MySQL 5.7 - другие конфигурации не тестировались
5. Через контекстное меню OpenServer зайти в PhpMyAdmin, добавить базу данных test (значение предустановлено, можно выбрать другое имя базы, но в таком случае необходимо указать его в файле .env в корневой папке проекта, параметр DB_DATABASE)
6. Если MySQL настроена на какое-то имя пользователя, и пароль, отличные от mysql-mysql, то необходимо отредактировать файл настроек приложения .env, который располагается в корневой папке проекта. Установить в нем параметры DB_USERNAME и DB_PASSWORD соответственно на имя пользователя и пароль доступа к MySQL
7. Через контекстное меню OpenServer - Дополнительно - Консоль, вызвать консоль, перейти в ней в папку домена, и выполнить команду:
    
    php artisan migrate

для выполнения миграций БД, то есть создания необходимых таблиц. Если возникают проблемы - проверьте файл .env на предмет актуальных данных для доступа к MySQL.
8. После всех этих действий, по URL http://laraweather/adminpanel должна появиться админка проекта. Слева в меню два пункта - Пользователи и Города, они отвечают, соответственно, за создание/редактирование/удаление пользователей, которым разрешен доступ, и городов, температура которых будет запрашиваться и сохраняться. Городов для опроса можно выбрать до 20. Пользователь задается логином (ограничен маленькими латинскими буквами) и паролем (минимум 5 символов).
9. Проверить работу API можно по URL http://laraweather/, там располагается тестовая страница.
10. Для регулярного обновления температуры в городах в БД, необходимо в планировщике OpenServer задать выполнение команды:

    php artisan schedule:run
    
каждую минуту. В таком случае, запрос новой температуры в городах будет выполняться каждые 10 минут. Я задавал так:
    
    */1 * * * * php artisan schedule:run
    
Срок тействия токена API выбран 1 час.
Параметр OPEN_WEATHER_MAP_KEY в файле .env - это ключ API для сервиса OpenWeatherMap.
